<ion-toolbar color="secondary">
  <ion-buttons slot="start">
    <ion-back-button default-href="#"></ion-back-button>
  </ion-buttons>
  <ion-title *ngIf="!codeQueryParam">Criar contrato</ion-title>
  <ion-title *ngIf="codeQueryParam">Editar contrato</ion-title>
</ion-toolbar>

<ion-content>
  <div class="content">
    <div>
      <ng-form #form="ngForm">
        <div class="mt-3 flex flex-col gap-2">
          <ion-input class="custom" placeholder="Bairro" name="neighborhood" [(ngModel)]="contract.neighborhood"
            required></ion-input>
          <ion-input class="custom" placeholder="Rua" name="street" [(ngModel)]="contract.street" required></ion-input>
          <ion-input class="custom" placeholder="CEP" name="cep" [(ngModel)]="contract.cep" required></ion-input>
          <ion-input class="custom" placeholder="Número" name="numberHouse" [(ngModel)]="contract.numberHouse"
            required></ion-input>
          <ion-input class="custom" placeholder="Complemento" name="complement"
            [(ngModel)]="contract.complement"></ion-input>

          <ion-input class="date" type="date" placeholder="Data final da locação" name="endDateLocate"
            [(ngModel)]="contract.endDateLocate"></ion-input>

          <div class="select-input">
            <ion-select interface="popover" placeholder="Contato" name="id_contact" [(ngModel)]="contract.contactId"
              required>
              <ion-select-option *ngFor="let contact of contacts" [value]="contact.id">{{
                contact.name
                }}</ion-select-option>
            </ion-select>
          </div>

          <div class="select-input">
            <ion-select interface="popover" placeholder="Selecione os equipamentos" name="assetes_ids"
              [(ngModel)]="contract.assetsIds" required [multiple]="true">
              <ion-select-option *ngFor="let asset of assets" [value]="asset.id">{{
                asset.name
                }}</ion-select-option>
            </ion-select>
          </div>

        </div>
        <div class="flex justify-center mt-5">
          <div [hidden]="!signature">
            <canvas #canvas (touchstart)="startDrawing($event)" (touchmove)="moved($event)"></canvas>
            <ion-grid>
              <ion-row class="flex justify-end">
                <ion-button color="danger" (click)="clearPad()">Limpar</ion-button>
              </ion-row>
            </ion-grid>
          </div>
        </div>
        <div class="flex justify-center mt-5 mb-5">
          <div>
            <omni-button type="primary" [title]="codeQueryParam ? 'Editar' : 'Criar'"
              (click)="onSubmit()"></omni-button>
          </div>
        </div>
      </ng-form>
    </div>

  </div>
</ion-content>